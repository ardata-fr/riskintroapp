% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/module-edit-factor-weights.R
\name{emissionFactorWeightsServer}
\alias{emissionFactorWeightsServer}
\title{Emission Factor Weights Editor Server Logic}
\usage{
emissionFactorWeightsServer(id, current_weights)
}
\arguments{
\item{id}{Character string. The namespace identifier matching the UI function.}

\item{current_weights}{Reactive expression returning the current weights list.
Should have the same structure as \code{\link[riskintrodata:get_erf_weights]{riskintrodata::get_erf_weights()}}.}
}
\value{
A reactive expression that returns updated weights when Apply is clicked,
or NULL when Cancel is clicked or modal is closed.
}
\description{
Handles the server-side logic for the emission factor weights editor modal.
Manages weight validation, real-time calculations, and data persistence.
}
\section{Weight Validation}{

The server enforces these validation rules:
\itemize{
\item Surveillance measures must sum to exactly 2.0
\item Control measures must sum to exactly 3.0
\item Overall total must sum to exactly 5.0
\item Individual weights must be between 0.0 and 3.0
}
}

\section{Real-time Updates}{

The interface provides live feedback as users adjust sliders:
\itemize{
\item Subtotals update immediately
\item Color coding shows validation status (green=valid, red=invalid)
\item Apply button is disabled when totals are incorrect
}
}

\seealso{
\code{\link[=emissionFactorWeightsUI]{emissionFactorWeightsUI()}} for the corresponding UI function

Other emission-factor-weights: 
\code{\link{emissionFactorWeightsUI}()}
}
\concept{emission-factor-weights}
